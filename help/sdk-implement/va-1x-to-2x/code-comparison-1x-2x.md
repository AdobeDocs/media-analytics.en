---
seo-title: Code comparison 1.x to 2.x
title: Code comparison 1.x to 2.x
uuid: 9f0a1660-2100-446d-ab75-afdf966478b3
index: y
internal: n
snippet: y
---

# Code comparison: 1.x to 2.x{#code-comparison-x-to-x}

All of the configuration parameters and tracking APIs are now consolidated into the `MediaHeartbeats` and `MediaHeartbeatConfig` classes.

**Configuration API changes:**

* `AdobeHeartbeatPluginConfig.sdk` - Renamed to `MediaConfig.appVersion`
* `MediaHeartbeatConfig.playerName` - Now set through `MediaHeartbeatConfig` instead of `VideoPlayerPluginDelegate`
* (For JavaScript only): The `AppMeasurement` instance - Now sent through the `MediaHeartbeat` constructor.

**Configuration properties changes:**

* `sdk` - Renamed to `appVersion`
* `publisher` - Removed; Experience Cloud Org ID is used instead as a publisher
* `quiteMode` - Removed

The following tables provide side-by-side code comparisons between 1.x and 2.x, covering Initialization, Core Playback, Ad Playback, Chapter Playback, and some additional events. 

## VHL Code Comparison: INITIALIZATION

| 1.x API | 2.x API |
| --- | --- |
| _**Object Initialization**_ **1.x:** <ul> <li> `Heartbeat()` </li> <li> `VideoPlayerPlugin()` </li> <li> `AdobeAnalyticsPlugin()` </li> <li> `HeartbeatPlugin()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat()` </li> <li> `MediaHeartbeatConfig()` </li> </ul> |
| **Set up the video player plugin:** `this._playerPlugin = new VideoPlayerPlugin( new SampleVideoPlayerPluginDelegate(this._player)); var playerPluginConfig = new VideoPlayerPluginConfig(); playerPluginConfig.debugLogging = true; // Set up the AppMeasurement plugin this._aaPlugin = new AdobeAnalyticsPlugin( appMeasurement, new SampleAdobeAnalyticsPluginDelegate()); var aaPluginConfig = new AdobeAnalyticsPluginConfig(); aaPluginConfig.channel = Configuration.HEARTBEAT.CHANNEL; aaPluginConfig.debuglogging = true; this._aaPlugin.configure(aaPluginConfig); // Set up the AdobeHeartbeat plugin var ahPlugin = new AdobeHeartbeatPlugin( new SampleAdobeHeartbeatPluginDelegate()); var ahPluginConfig = new AdobeHeartbeatPluginConfig( configuration.HEARTBEAT.TRACKING_SERVER, configuration.HEARTBEAT.PUBLISHER); ahPluginConfig.ovp = configuration.HEARTBEAT.OVP; ahPluginConfig.sdk = configuration.HEARTBEAT.SDK; ahPluginConfig.debugLogging = true; ahPlugin.configure(ahPluginConfig); var plugins = [this._playerPlugin, this._aaPlugin, ahPlugin]; // Set up and configure the heartbeat library this._heartbeat = new Heartbeat(new SampleHeartbeatDelegate(), plugins); var configData = new HeartbeatConfig(); configData.debugLogging = true; this._heartbeat.configure(configData);` [1.x Sample Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js#L58) ... | **Media Heartbeat initialization:** `var mediaConfig = new MediaHeartbeatConfig(); mediaConfig.trackingServer = Configuration.HEARTBEAT.TRACKING_SERVER; mediaConfig.playerName = Configuration.PLAYER.NAME; mediaConfig.debugLogging = true; mediaConfig.channel = Configuration.HEARTBEAT.CHANNEL; mediaConfig.ssl = false; mediaConfig.ovp = Configuration.HEARTBEAT.OVP; mediaConfig.appVersion = Configuration.HEARTBEAT.SDK; this._mediaHeartbeat = new MediaHeartbeat( new SampleMediaHeartbeatDelegate(this._player), mediaConfig, appMeasurement);` [2.x Sample Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js#L47) ... |
| _**Delegates**_ **1.x:** <ul> <li> `VideoPlayerPluginDelegate()` </li> <li> `VideoPlayerPluginDelegate().getVideoInfo` </li> <li> `VideoPlayerPluginDelegate().getAdBreakInfo` </li> <li> `VideoPlayerPluginDelegate().getAdInfo` </li> <li> `VideoPlayerPluginDelegate().getChapterInfo` </li> <li> `VideoPlayerPluginDelegate().getQoSInfo` </li> <li> `VideoPlayerPluginDelegate().get.onError` </li> <li> `AdobeAnalyticsPluginDelegate()` </li> <li> `AdobeHeartbeatPluginDelegate()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeatDelegate()` </li> <li> `MediaHeartbeatDelegate().getCurrentPlaybackTime` </li> <li> `MediaHeartbeatDelegate().getQoSObject` </li> </ul> |
| **VideoPlayerPluginDelegate:** `$.extend(SampleVideoPlayerPluginDelegate.prototype, VideoPlayerPluginDelegate.prototype); function SampleVideoPlayerPluginDelegate(player) { this._player = player; } SampleVideoPlayerPluginDelegate.prototype.getVideoInfo = function() { return this._player.getVideoInfo(); }; SampleVideoPlayerPluginDelegate.prototype.getAdBreakInfo = function() { return this._player.getAdBreakInfo(); }; SampleVideoPlayerPluginDelegate.prototype.getAdInfo = function() { return this._player.getAdInfo(); }; SampleVideoPlayerPluginDelegate.prototype.getChapterInfo = function() { return this._player.getChapterInfo(); }; SampleVideoPlayerPluginDelegate.prototype.getQoSInfo = function() { return this._player.getQoSInfo(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.video.player.plugin.delegate.js#L17) ... **AdobeAnalyticsPluginDelegate:** `$.extend(SampleAdobeAnalyticsPluginDelegate.prototype, AdobeAnalyticsPluginDelegate.prototype); function SampleAdobeAnalyticsPluginDelegate() {} SampleAdobeAnalyticsPluginDelegate.prototype.onError = function(errorInfo) { console.log("AdobeAnalyticsPlugin error: " + errorInfo.getMessage() + " | " + errorInfo.getDetails()); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.adobe.analytics.plugin.delegate.js#L17) ... **HeartbeatDelegate:** `$.extend(SampleHeartbeatDelegate.prototype, HeartbeatDelegate.prototype); function SampleHeartbeatDelegate() {} SampleHeartbeatDelegate.prototype.onError = function(errorInfo) { console.log("Heartbeat error: " + errorInfo.getMessage() + " | " + errorInfo.getDetails()); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.heartbeat.delegate.js#L17) | **MediaHeartbeatDelegate:** `ADB.core.extend(SampleMediaHeartbeatDelegate.prototype, MediaHeartbeatDelegate.prototype); function SampleMediaHeartbeatDelegate(player) { this._player = player; } SampleMediaHeartbeatDelegate.prototype.getCurrentPlaybackTime = function() { return this._player.getCurrentPlaybackTime(); }; SampleMediaHeartbeatDelegate.prototype.getQoSObject = function() { return this._player.getQoSInfo(); }; this._mediaHeartbeat = new MediaHeartbeat(new SampleMediaHeartbeatDelegate(this._player), mediaConfig, appMeasurement);` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js#L57) ... | 

## VHL Code Comparison: CORE PLAYBACK

| VHL 1.x | VHL 2.x |
| --- | --- |
| _**Session Start**_ **1.x:** <ul> <li> `VideoPlayerPluginDelegate.trackVideoLoad()` </li> <li> `VideoPlayerPluginDelegate.getVideoInfo()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createMediaObject()` </li> <li> `MediaHeartbeat.trackSessionStart()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onLoad = function() { this._playerPlugin.trackVideoLoad(); }; SampleVideoPlayerPluginDelegate.prototype.getVideoInfo = function() { return this._player.getVideoInfo(); }; VideoPlayer.prototype.getVideoInfo = function() { this._videoInfo.playhead = vTime; return this._videoInfo; };` [1.x Sample Player - trackVideoLoad() ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js#L107) [1.x Sample Player - getVideoInfo() ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.video.player.plugin.delegate.js#L23) ... | `VideoAnalyticsProvider.prototype._onLoad = function() { var contextData = {}; var videoInfo = this._player.getVideoInfo(); var mediaInfo = MediaHeartbeat.createMediaObject( videoInfo.name, videoInfo.id, videoInfo.length, videoInfo.streamType); this._mediaHeartbeat.trackSessionStart( mediaInfo, contextData); };` [2.x Sample Player - createMediaObject() ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js#L88) ... |
| _**Standard Video Metadata**_ **1.x:** <ul> <li> `VideoMetadataKeys()` </li> <li> `AdobeAnalyticsPlugin.setVideoMetadata90` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createMediaObject()` </li> <li> `MediaHeartbeat.trackSessionStart()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onLoad = function() { console.log('Player event: VIDEO_LOAD'); var contextData = {}; // Setting Standard Video Metadata contextData[VideoMetadataKeys.SEASON] = "sample season"; contextData[VideoMetadataKeys.SHOW] = "sample show"; contextData[VideoMetadataKeys.EPISODE] = "sample episode"; contextData[VideoMetadataKeys.ASSET_ID] = "sample asset id"; contextData[VideoMetadataKeys.GENRE] = "sample genre"; contextData[VideoMetadataKeys.FIRST_AIR_DATE] = "sample air date"; // Etc. this._aaPlugin.setVideoMetadata(contextData); this._playerPlugin.trackVideoLoad(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js#L107) ... | `VideoAnalyticsProvider.prototype._onLoad = function() { console.log('Player event: VIDEO_LOAD'); var contextData = {}; var mediaInfo = MediaHeartbeat.createMediaObject(videoInfo.name, videoInfo.id, videoInfo.length, videoInfo.streamType); // Set standard Video Metadata var standardVideoMetadata = {}; standardVideoMetadata[VideoMetadataKeys.SEASON] = "sample season"; standardVideoMetadata[VideoMetadataKeys.SHOW] = "sample show"; standardVideoMetadata[VideoMetadataKeys.EPISODE] = "sample episode"; standardVideoMetadata[VideoMetadataKeys.ASSET_ID] = "sample asset id"; standardVideoMetadata[VideoMetadataKeys.GENRE] = "sample genre"; standardVideoMetadata[VideoMetadataKeys.FIRST_AIR_DATE] = "sample air date"; // Etc. mediaInfo.setValue(MediaHeartbeat.MediaObjectKey.StandardVideoMetadata, standardVideoMetadata); this._mediaHeartbeat.trackSessionStart(mediaInfo, contextData); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js#L88) ... |
| Note: Insetad of setting the Standard Video Metadata through the `AdobeAnalyticsPlugin.setVideoMetadata()` API, in VHL 2.0, the Standard Video Metadata is set through the MediaObject key `MediaObject.MediaObjectKey.StandardVideoMetadata()`. ||
| _**Custom Video Metadata**_ **1.x:** <ul> <li> `VideoMetadataKeys()` </li> <li> `AdobeAnalyticsPlugin.setVideoMetadata()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createMediaObject()` </li> <li> `MediaHeartbeat.trackSessionStart()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onLoad = function() { var contextData = { isUserLoggedIn: "false", tvStation: "Sample TV station", programmer: "Sample programmer" }; this._aaPlugin.setVideoMetadata(contextData); this._playerPlugin.trackVideoLoad(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onLoad = function() { var contextData = { isUserLoggedIn: "false", tvStation: "Sample TV station", programmer: "Sample programmer" }; var videoInfo = this._player.getVideoInfo(); var mediaInfo = MediaHeartbeat.createMediaObject(videoInfo.name, videoInfo.id, videoInfo.length, videoInfo.streamType); mediaInfo.setValue(MediaHeartbeat.MediaObjectKey.StandardVideoMetadata, standardVideoMetadata); this._mediaHeartbeat.trackSessionStart(mediaInfo, contextData); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| Note: Instead of setting the Custom Video Metadata through the `AdobeAnalyticsPlugin.setVideoMetadata()` API, in VHL 2.0, the Standard Video Metadata is set through the `MediaHeartbeat.trackSessionStart()` API. ||
| _**Playback**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackPlay()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackPlay()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onSeekStart = function() { console.log('Player event: SEEK_START'); this._playerPlugin.trackSeekStart(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onSeekStart = function() { console.log('Player event: SEEK_START'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.SeekStart); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Pause**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackPause()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackPausel()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onPause = function() { console.log('Player event:X PAUSE'); this._playerPlugin.trackPause(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onBufferComplete = function() { console.log('Player event: BUFFER_COMPLETE'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferComplete); };` [Sample Player 2.x ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Seek Complete**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackSeekComplete()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.SeekComplete)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onSeekComplete = function() { console.log('Player event: SEEK_COMPLETE'); this._playerPlugin.trackSeekComplete(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onSeekComplete = function() { console.log('Player event: SEEK_COMPLETE'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.SeekComplete); };` [Sample Player 2.x ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Buffer Start**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackBufferStart()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferStart)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onBufferStart = function() { console.log('Player event: BUFFER_START'); this._playerPlugin.trackBufferStart(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onBufferStart = function() { console.log('Player event: BUFFER_START'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferStart); };` [Sample Player 2.x ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Buffer Complete**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackBufferComplete()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferComplete)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onBufferComplete = function() { console.log('Player event: BUFFER_COMPLETE'); this._playerPlugin.trackBufferComplete(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onBufferComplete = function() { console.log('Player event: BUFFER_COMPLETE'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferComplete); };` [Sample Player 2.x ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Playback Complete**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackComplete()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackComplete()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onComplete = function() { console.log('Player event: COMPLETE'); this._playerPlugin.trackComplete(function() { console.log( "The completion of the content has been tracked."); }); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onComplete = function() { console.log('Player event: COMPLETE'); this._mediaHeartbeat.trackComplete(); };` [Sample Player 2.x ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | 

## VHL Code Comparison: AD PLAYBACK

| VHL 1.x | VHL 2.x |
| --- | --- |
| _**Ad Start**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackAdStart()` </li> <li> `VideoPlayerPluginDelegate.getAdBreakInfo()` </li> <li> `VideoPlayerPluginDelegate.getAdInfo()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createAdBreakObject()` </li> <li> `MediaHeartbeat.createAdObject()` </li> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakStart)` </li> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdStart)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onAdStart = function() { console.log('Player event: AD_START'); this._playerPlugin.trackAdStart(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... `SampleVideoPlayerPluginDelegate.prototype.getAdInfo = function() { return this._player.getAdInfo(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.video.player.plugin.delegate.js) ... | `VideoAnalyticsProvider.prototype._onAdStart = function() { console.log('Player event: AD_START'); var adContextData = {}; // AdBreak Info - getting the adBreakInfo from player and creating // AdBreakInfo Object from MediaHeartbeat var _adBreakInfo = this._player.getAdBreakInfo(); var adBreakInfo = MediaHeartbeat.createAdBreakObject(_adBreakInfo.name, _adBreakInfo.position, _adBreakInfo.startTime); // Ad Info - getting the adInfo from player and creating // AdInfo Object from MediaHeartbeat var _adInfo = this._player.getAdInfo(); var adInfo = MediaHeartbeat.createAdObject(_adInfo.name, _adInfo.id, _adInfo.position, _adInfo.length); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakStart, adBreakInfo); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdStart, adInfo, adContextData); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Standard Ad Metadata**_ **1.x:** <ul> <li> `AdMetadataKeys()` </li> <li> `AdobeAnalyticsPlugin.setAdMetadata()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createAdObject()` </li> <li> `MediaHeartbeat.trackAdStart()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onAdStart = function() { console.log('Player event: AD_START'); var contextData = {}; // setting Standard Ad Metadata contextData[AdMetadataKeys.ADVERTISER] = "sample advertiser"; contextData[AdMetadataKeys.CAMPAIGN_ID] = "sample campaign"; contextData[AdMetadataKeys.CREATIVE_ID] = "sample creative"; contextData[AdMetadataKeys.CREATIVE_URL] = "sample url"; contextData[AdMetadataKeys.SITE_ID] = "sample site"; contextData[AdMetadataKeys.PLACEMENT_ID] = "sample placement"; this._aaPlugin.setAdMetadata(contextData); this._playerPlugin.trackAdStart(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onAdStart = function() { console.log('Player event: AD_START'); var adContextData = { }; // AdBreak Info - getting the adBreakInfo from player and creating // AdBreakInfo Object from MediaHeartbeat var _adBreakInfo = this._player.getAdBreakInfo(); var adBreakInfo = MediaHeartbeat.createAdBreakObject(_adBreakInfo.name, _adBreakInfo.position, _adBreakInfo.startTime); // Ad Info - getting the adInfo from player and creating // AdInfo Object from MediaHeartbeat var _adInfo = this._player.getAdInfo(); var adInfo = MediaHeartbeat.createAdObject(_adInfo.name, _adInfo.id, _adInfo.position, _adInfo.length); // Set standard Ad Metadata var standardAdMetadata = {}; standardAdMetadata[MediaHeartbeat.AdMetadataKeys.ADVERTISER] = "Sample Advertiser"; standardAdMetadata[MediaHeartbeat.AdMetadataKeys.CAMPAIGN_ID] = "Sample Campaign"; adInfo.setValue(MediaHeartbeat.MediaObjectKey.StandardAdMetadata, standardAdMetadata); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakStart, adBreakInfo); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdStart, adInfo, adContextData); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| Note: Instead of setting the Standard Ad Metadata through the `AdobeAnalyticsPlugin.setVideoMetadata()` API, in VHL 2.0, the Standard Ad Metadata is set through the `AdMetadata` key `MediaObject.MediaObjectKey.StandardVideoMetadata` ||
| _**Custom Ad Metadata**_ **1.x:** <ul> <li> `AdobeAnalyticsPlugin.setAdMetadata()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createAdObject()` </li> <li> `MediaHeartbeat.trackAdStart()` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onAdStart = function() { console.log('Player event: AD_START'); var contextData = {}; // setting Standard Ad Metadata contextData[AdMetadataKeys.ADVERTISER] = "sample advertiser"; contextData[AdMetadataKeys.CAMPAIGN_ID] = "sample campaign"; contextData[AdMetadataKeys.CREATIVE_ID] = "sample creative"; contextData[AdMetadataKeys.CREATIVE_URL] = "sample url"; contextData[AdMetadataKeys.SITE_ID] = "sample site"; contextData[AdMetadataKeys.PLACEMENT_ID] = "sample placement"; this._aaPlugin.setAdMetadata(contextData); this._playerPlugin.trackAdStart(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onAdStart = function() { console.log('Player event: AD_START'); var adContextData = { affiliate: "Sample affiliate", campaign: "Sample ad campaign" }; // AdBreak Info - getting the adBreakInfo from player and creating // AdBreakInfo Object from MediaHeartbeat var _adBreakInfo = this._player.getAdBreakInfo(); var adBreakInfo = MediaHeartbeat.createAdBreakObject(_adBreakInfo.name, _adBreakInfo.position, _adBreakInfo.startTime); // Ad Info - getting the adInfo from player and creating // AdInfo Object from MediaHeartbeat var _adInfo = this._player.getAdInfo(); var adInfo = MediaHeartbeat.createAdObject(_adInfo.name, _adInfo.id, _adInfo.position, _adInfo.length); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakStart, adBreakInfo); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdStart, adInfo, adContextData); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| Note: Instead of setting the Custom Ad Metadata through the `AdobeAnalyticsPlugin.setVideoMetadata` API, in VHL 2.0, the Standard Ad Metadata is set through the `MediaHeartbeat.trackAdStart()` API. ||
| _**Ad Skip**_ **1.x:** <ul> <li> `AdobeAnalyticsPlugin.setAdMetadata()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createAdObject()` </li> <li> `MediaHeartbeat.trackAdStart()` </li> </ul> |
| `SampleVideoPlayerPluginDelegate.prototype.getAdInfo = function() { return this._player.getAdInfo(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.video.player.plugin.delegate.js) ... | `VideoAnalyticsProvider.prototype._onAdSkip = function() { console.log('Player event: AD_SKIP'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdSkip); };` |
| Note: In VHL 1.5.X APIs; `getAdinfo()` and `getAdBreakInfo()` must return null if the player is outside the Ad break boundaries. ||
| _**Ad Complete**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackAdComplete()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdComplete)` </li> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakComplete)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onAdComplete = function() { console.log('Player event: AD_COMPLETE'); this._playerPlugin.trackAdComplete(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onAdComplete = function() { console.log('Player event: AD_COMPLETE'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdComplete); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.AdBreakComplete); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | 

## VHL Code Comparison: CHAPTER PLAYBACK

| VHL 1.x | VHL 2.x |
| --- | --- |
| _**Chapter Start**_ **1.x:** <ul> <li> `VideoPlayerPluginDelegate.getChapterInfo()` </li> <li> `VideoPlayerPlugin.trackChapterStart()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createChapterObject` </li> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterStart)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onChapterStart = function() { console.log('Player event: CHAPTER_START'); this._playerPlugin.trackChapterStart(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... `SampleVideoPlayerPluginDelegate.prototype.getChapterInfo = function() { return this._player.getChapterInfo(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.video.player.plugin.delegate.js) ... | `VideoAnalyticsProvider.prototype._onChapterStart = function() { console.log('Player event: CHAPTER_START'); var chapterContextData = { }; // Chapter Info - getting the chapterInfo from player and creating // ChapterInfo Object from MediaHeartbeat var _chapterInfo = this._player.getChapterInfo(); var chapterInfo = MediaHeartbeat.createChapterObject(_chapterInfo.name, _chapterInfo.position, _chapterInfo.length, _chapterInfo.startTime); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterStart, chapterInfo, chapterContextData); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Chapter Skip**_ **1.x:** <ul> <li> `VideoPlayerPluginDelegate.getChapterInfo()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterSkip)` </li> </ul> |
| `SampleVideoPlayerPluginDelegate.prototype.getChapterInfo = function() { return this._player.getChapterInfo(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/sample.video.player.plugin.delegate.js) ... | `VideoAnalyticsProvider.prototype._onChapterSkip = function() { this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterSkip); };` |
| Note: In VHL 1.5.X APIs; `getChapterinfo()` must return null if the player is outside the Chapter boundaries. ||
| _**Chapter Custom Metadata**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackChapterStart()` </li> <li> `AdobeAnalyticsPlugin.setChapterMetadata()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.createChapterObject()` </li> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterStart)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onChapterStart = function() { console.log('Player event: CHAPTER_START'); this._aaPlugin.setChapterMetadata({ segmentType: "Sample segment type" }); this._playerPlugin.trackChapterStart(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onChapterStart = function() { console.log('Player event: CHAPTER_START'); var chapterContextData = { segmentType: "Sample segment type" }; // Chapter Info - getting the chapterInfo from player and creating // ChapterInfo Object from MediaHeartbeat var _chapterInfo = this._player.getChapterInfo(); var chapterInfo = MediaHeartbeat.createChapterObject(_chapterInfo.name, _chapterInfo.position, _chapterInfo.length, _chapterInfo.startTime); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterStart, chapterInfo, chapterContextData); };` [Sample Player 2.x ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| Note: ||
| _**Chapter Complete**_ **1.x:** <ul> <li> `trackChapterComplete()` </li> </ul> | ... **2.x:** <ul> <li> `trackEvent(MediaHeartbeat.Event.ChapterComplete)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onChapterComplete = function() { console.log('Player event: CHAPTER_COMPLETE'); this._playerPlugin.trackChapterComplete(); };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | `VideoAnalyticsProvider.prototype._onChapterComplete = function() { console.log('Player event: CHAPTER_COMPLETE'); this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.ChapterComplete); };` [Sample Player 2.x ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... | 

## VHL Code Comparison: OTHER EVENTS

| VHL 1.x | VHL 2.x |
| --- | --- |
| _**Bitrate Change**_ **1.x:** <ul> <li> `VideoPlayerPlugin.trackBitrateChange()` </li> </ul> | ... **2.x:** <ul> <li> `MediaHeartbeat.trackEvent(MediaHeartbeat.Event.BitrateChange)` </li> </ul> |
| `VideoAnalyticsProvider.prototype._onBitrateChange = function() { console.log('Player event: BITRATE_CHANGE'); // Update getQosInfo to return the updated bitrate this._playerPlugin.trackBitrateChange(); };` | `VideoAnalyticsProvider.prototype._onBitrateChange = function() { console.log('Player event: BITRATE_CHANGE'); // Update getQosObject to return the updated bitrate this._mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BitrateChange); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |
| _**Video Resume**_ **1.x:** <ul> <li> `VideoInfo.resumed()` </li> <li> `VideoPlayerPluginDelegate.getVideoInfo()` </li> <li> `VideoPlayerPlugin.trackVideoLoad()` </li> </ul> | ... **2.x:** <ul> <li> `MediaObject()` </li> <li> `MediaHeartbeat.trackSessionStart()` </li> </ul> |
| `this._videoInfo.resumed=true;` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/player/video.player.js) ... `VideoPlayer.prototype.getVideoInfo = function() { this._videoInfo.playhead = vTime; return this._videoInfo; };` [Sample 1.x Player ](https://github.com/Adobe-Marketing-Cloud/video-heartbeat/blob/master/sdks/js/samples/BasicPlayerSample/script/app/player/video.player.js) ... | `VideoAnalyticsProvider.prototype._onLoad = function() { console.log('Player event: VIDEO_LOAD'); var contextData = {}; var videoInfo = this._player.getVideoInfo(); var mediaInfo = MediaHeartbeat.createMediaObject(videoInfo.playerName, videoInfo.id, videoInfo.length, videoInfo.streamType); mediaInfo.setValue(MediaHeartbeat.MediaObjectKey.VideoResumed, true); this._mediaHeartbeat.trackSessionStart(mediaInfo, contextData); };` [Sample 2.x Player ](https://github.com/Adobe-Marketing-Cloud/media-sdks/blob/master/sdks/js/samples/BasicPlayerSample/script/app/analytics/video.analytics.provider.js) ... |

For more information on tracking video with 2.x, see [Track Core Video Playback](https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/c_vhl_track-core-vid-playback.html) in *Measuring Video in Adobe Analytics*.
